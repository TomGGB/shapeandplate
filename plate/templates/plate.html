{% extends "base.html" %}
{% load static %}
{% block title %}Recetas Personalizadas{% endblock %}
{% block content %}
<div class="top-app-bar">
    <span class="material-icons" style="vertical-align: middle; font-size: 24px;">restaurant_menu</span>
    <h1 style="display: inline; vertical-align: middle;">Recetas Personalizadas</h1>
</div>

<div class="card-container">
    <div class="card">
        <h2>¡Recuerda!</h2>
        <p>Las recetas se actualizan cada vez que generas una nueva rutina de ejercicios. ¡No olvides revisarlas!</p>
    </div>
</div>

<div class="card-container">
    {% for receta in recetas %}
        <div class="card">
            <h2>{{ receta.nombre }}</h2>
            <p class="description">{{ receta.desc }}</p>
            <ul class="details">
                <li><strong>Tiempo de preparación:</strong> {{ receta.tiempo }}</li>
                <li><strong>Dificultad:</strong> {{ receta.dificultad }}</li>
            </ul><br>
            <div class="ingredients">
                <strong>Ingredientes:</strong>
                <ul>
                    {% for ingrediente in receta.ingredientes %}
                        <li>{{ ingrediente }}</li>
                    {% endfor %}
                </ul>
            </div><br>
            <div class="instructions">
                <strong>Instrucciones:</strong>
                <ol>
                    {% for paso in receta.instrucciones %}
                        <li>{{ paso }}</li>
                    {% endfor %}
                </ol>
            </div>
        </div>
    {% endfor %}
</div>

<!-- Botón flotante -->
<button class="floating-button material-symbols-outlined" id="delete-recipe-button" onclick="document.getElementById('confirmation-modal').style.display='block'">
    delete
</button>

<!-- Modal de confirmación -->
<div id="confirmation-modal" class="modal">
    <div class="modal-content">
        <span class="close-button" onclick="document.getElementById('confirmation-modal').style.display='none'">&times;</span>
        <h2>Confirmación</h2>
        <p>¿Estás seguro de que deseas generar nuevas recetas?</p>
        <form method="post" action="{% url 'delete_recipe' %}">
            {% csrf_token %}
            <button type="submit" class="confirm-button">Generar</button>
            <button type="button" class="cancel-button" onclick="document.getElementById('confirmation-modal').style.display='none'">Cancelar</button>
        </form>
</div>
{% endblock %}