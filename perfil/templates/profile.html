{% extends "base.html" %}
{% load static %}
{% block title %}Perfil de Usuario{% endblock %}
{% block extra_css %}
    <link rel="stylesheet" href="{% static 'css/profile.css' %}">
{% endblock %}
{% block content %}
<div class="construction-warning">
    <p>⚠️ Esta página está en construcción. Algunas funcionalidades pueden no estar disponibles.</p>
</div>
<div id="profile-content" class="profile-content">
    <h1>Perfil de Usuario</h1>
    <form method="post" action="{% url 'profile' %}">
        {% csrf_token %}
        <label for="first_name">Nombre:</label>
        <input type="text" id="first_name" name="first_name" value="{{ first_name }}" required><br><br>
        
        <label for="last_name">Apellidos:</label>
        <input type="text" id="last_name" name="last_name" value="{{ last_name }}" required><br><br>
        
        <label for="email">Correo Electrónico:</label>
        <input type="email" id="email" name="email" value="{{ email }}" required><br><br>
        
        <label for="diet">Tipo de dieta:</label>
        <input type="text" id="diet" name="diet" value="{{ diet }}"><br><br>
        
        <label for="weight">Peso (kg):</label>
        <input type="integer" step="0.01" id="weight" name="weight" value="{{ weight|floatformat:0 }}"><br><br>
        
        <label for="height">Altura (cm):</label>
        <input type="integer" step="0.01" id="height" name="height" value="{{ height|floatformat:0 }}"><br><br>
        
        <label for="smoker">¿Fumador?</label>
        <input type="checkbox" id="smoker" name="smoker" {% if smoker %}checked{% endif %}><br><br>
        
        <label for="weekly_exercise_hours">Horas de ejercicio semanal:</label>
        <input type="integer" step="0.01" id="weekly_exercise_hours" name="weekly_exercise_hours" value="{{ weekly_exercise_hours|floatformat:0 }}"><br><br>
        
        <input type="submit" value="Actualizar Perfil">
    </form>
</div>
<!-- Botón de Logout -->
<form action="{% url 'logout' %}" method="post">
    {% csrf_token %}
    <button type="submit" class="logout-button">Logout</button>
</form>
{% endblock %}
{% block extra_js %}
<script>
    document.addEventListener("DOMContentLoaded", function() {
        // Simular una carga de datos
        setTimeout(function() {
            document.querySelector(".skeleton-loader").style.display = "none";
            document.getElementById("profile-content").innerHTML = `
                <h1>Perfil de Usuario</h1>
                <form method="post" action="{% url 'profile' %}">
                    {% csrf_token %}
                    <label for="first_name">Nombre:</label>
                    <input type="text" id="first_name" name="first_name" value="{{ first_name }}" required><br><br>
                    
                    <label for="last_name">Apellidos:</label>
                    <input type="text" id="last_name" name="last_name" value="{{ last_name }}" required><br><br>
                    
                    <label for="email">Correo Electrónico:</label>
                    <input type="email" id="email" name="email" value="{{ email }}" required><br><br>
                    
                    <label for="diet">Tipo de dieta:</label>
                    <input type="text" id="diet" name="diet" value="{{ diet }}"><br><br>
                    
                    <label for="weight">Peso (kg):</label>
                    <input type="number" step="0.01" id="weight" name="weight" value="{{ weight }}"><br><br>
                    
                    <label for="height">Altura (cm):</label>
                    <input type="number" step="0.01" id="height" name="height" value="{{ height }}"><br><br>
                    
                    <label for="smoker">¿Fumador?</label>
                    <input type="checkbox" id="smoker" name="smoker" {% if smoker %}checked{% endif %}><br><br>
                    
                    <label for="weekly_exercise_hours">Horas de ejercicio semanal:</label>
                    <input type="number" step="0.01" id="weekly_exercise_hours" name="weekly_exercise_hours" value="{{ weekly_exercise_hours }}"><br><br>
                    
                    <input type="submit" value="Actualizar Perfil">
                </form>
            `;
        }, 100); // Simula un retraso de 2 segundos
    });
</script>
{% endblock %}