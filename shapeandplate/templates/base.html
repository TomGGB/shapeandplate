<!DOCTYPE html>
<html lang="es">
<head>
    {% load static %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Expires" content="0">
    <meta http-equiv="Last-Modified" content="0">
    <meta http-equiv="Cache-Control" content="no-cache, mustrevalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <title>{% block title %}Shape&Plate{% endblock %}</title>
    <link rel="stylesheet" href="{% static 'css/base.css' %}">
    <link rel="icon" href="{% static 'img/favicon.png' %}" type="image/x-icon">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#343d42', // Color primario
                        'primary-foreground': '#ffffff', // Color de primer plano primario
                        secondary: '#03dac6', // Color secundario
                        background: '#f4f4f4', // Color de fondo
                        surface: '#ffffff', // Color de superficie
                        error: '#b00020', // Color de error
                        'on-primary': '#ffffff', // Color sobre primario
                        'on-secondary': '#000000', // Color sobre secundario
                        'on-background': '#000000', // Color sobre fondo
                        'on-surface': '#000000', // Color sobre superficie
                        'on-error': '#ffffff', // Color sobre error
                    },
                },
            },
        }
    </script>
</head>
<body>
    <div id="loading-screen" class="loading-screen">
        <div class="spinner"></div>
    </div>
    <div class="container">
        {% block content %}{% endblock %}
    </div>
    <nav class="fixed bottom-0 left-0 right-0 bg-primary py-4 px-4 flex justify-around items-center md:hidden rounded-t-lg">
        <button class="focus:outline-none rounded-full nav-item {% if request.path == '/workout/' %}active{% endif %}" onclick="window.location.href='/workout/'">
            <span class="material-icons text-primary-foreground">fitness_center</span>
        </button>
        <button class="focus:outline-none rounded-full nav-item {% if request.path == '/plate' %}active{% endif %}" onclick="window.location.href='/plate'">
            <span class="material-icons text-primary-foreground">restaurant</span>
        </button>
        <button class="focus:outline-none rounded-full nav-item {% if request.path == '/perfil/' %}active{% endif %}" onclick="window.location.href='/perfil/'">
            <span class="material-icons text-primary-foreground">person</span>
        </button>
    </nav>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            document.getElementById("loading-screen").style.display = "none";

            // Mostrar pantalla de carga al enviar formularios
            const forms = document.querySelectorAll("form");
            forms.forEach(form => {
                form.addEventListener("submit", function() {
                    document.getElementById("loading-screen").style.display = "flex";
                });
            });

            // Mostrar pantalla de carga al hacer clic en enlaces de navegación
            const links = document.querySelectorAll("a");
            links.forEach(link => {
                link.addEventListener("click", function() {
                    document.getElementById("loading-screen").style.display = "flex";
                });
            });

            // Manejar la activación de los elementos de la barra de navegación
            document.querySelectorAll('.nav-item').forEach(item => {
                item.addEventListener('click', function() {
                    document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
                    this.classList.add('active');
                });
            });
        });
    </script>
</body>
</html>